<target name="help">
	<echo message="Please run: $ ant -v -projecthelp"/>
</target>

<target name="clean">
	<delete includeemptydirs="true">
		<fileset dir="dist" includes="**/*" />
	</delete>
	<delete includeemptydirs="true">
		<fileset dir="build" includes="**/*" />
	</delete>
	<delete includeemptydirs="true">
		<fileset dir="doc/javadoc" includes="**/*" />
	</delete>
</target>

<target name="compile">
	<mkdir dir="build" />
	<javac srcdir="src" destdir="build" />
	<mkdir dir="build/content" />
	<copy todir="build/content">
		<fileset dir="src/content" />
	</copy>
</target>

<target name="dist" depends="clean,compile,doc">
	<copy todir="dist">
		<fileset dir="doc" />
	</copy>
	<jar jarfile="dist/elshare.jar" basedir="build">
		<manifest>
			<attribute name="Main-Class" value="org.lunarray.lshare.Main" />
		</manifest>
	</jar>
</target>

<target name="run" depends="compile">
	<java classname="org.lunarray.lshare.Main"
		classpath="build"
		fork="true" />
</target>

<target name="doc">
	<javadoc
		destdir="doc/javadoc"
		author="true"
		version="true"
		access="private"
		windowtitle="eLShare API">
		<packageset dir="src" defaultexcludes="yes">
			<include name="org/**" />
		</packageset>
		<doctitle>eLShare</doctitle>
		<bottom>Copyright &#169; 2006 Pal Hargitai.</bottom>
	</javadoc>
</target>
